{"version":3,"sources":["js/scroll.js"],"names":["anchors","slice","call","document","querySelectorAll","animationTime","framesCount","forEach","item","addEventListener","e","preventDefault","coordY","querySelector","getAttribute","getBoundingClientRect","top","window","pageYOffset","scroller","setInterval","scrollBy","innerHeight","body","offsetHeight","scrollTo","clearInterval"],"mappings":";AACA,IAAMA,EAAU,GAAGC,MAAMC,KAAKC,SAASC,iBAAiB,iBACtDC,EAAgB,IAChBC,EAAc,GAEhBN,EAAQO,QAAQ,SAAUC,GAExBA,EAAKC,iBAAiB,QAAS,SAAUC,GAEvCA,EAAEC,iBAGEC,IAAAA,EACFT,SAASU,cAAcL,EAAKM,aAAa,SAASC,wBAAwBC,IAC1EC,OAAOC,YAGLC,EAAWC,YAAY,WAErBC,IAAAA,EAAWT,EAASN,EAKtBe,EAAWJ,OAAOC,YAAcN,GAChCK,OAAOK,YAAcL,OAAOC,YAAcf,SAASoB,KAAKC,aAGxDP,OAAOI,SAAS,EAAGA,IAGnBJ,OAAOQ,SAAS,EAAGb,GACnBc,cAAcP,KAGfd,EAAgBC","file":"scroll.2a4bde85.js","sourceRoot":"../src","sourcesContent":["// собираем все якоря; устанавливаем время анимации и количество кадров\r\nconst anchors = [].slice.call(document.querySelectorAll('a[href*=\"#\"]')),\r\n  animationTime = 300,\r\n  framesCount = 20;\r\n\r\nanchors.forEach(function (item) {\r\n  // каждому якорю присваиваем обработчик события\r\n  item.addEventListener('click', function (e) {\r\n    // убираем стандартное поведение\r\n    e.preventDefault();\r\n\r\n    // для каждого якоря берем соответствующий ему элемент и определяем его координату Y\r\n    let coordY =\r\n      document.querySelector(item.getAttribute('href')).getBoundingClientRect().top +\r\n      window.pageYOffset;\r\n\r\n    // запускаем интервал, в котором\r\n    let scroller = setInterval(function () {\r\n      // считаем на сколько скроллить за 1 такт\r\n      let scrollBy = coordY / framesCount;\r\n\r\n      // если к-во пикселей для скролла за 1 такт больше расстояния до элемента\r\n      // и дно страницы не достигнуто\r\n      if (\r\n        scrollBy > window.pageYOffset - coordY &&\r\n        window.innerHeight + window.pageYOffset < document.body.offsetHeight\r\n      ) {\r\n        // то скроллим на к-во пикселей, которое соответствует одному такту\r\n        window.scrollBy(0, scrollBy);\r\n      } else {\r\n        // иначе добираемся до элемента и выходим из интервала\r\n        window.scrollTo(0, coordY);\r\n        clearInterval(scroller);\r\n      }\r\n      // время интервала равняется частному от времени анимации и к-ва кадров\r\n    }, animationTime / framesCount);\r\n  });\r\n});\r\n"]}